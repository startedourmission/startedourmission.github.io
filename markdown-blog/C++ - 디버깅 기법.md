---
date: 2025-07-01
tags:
  - C++
aliases:
---

# 디버깅 기법

C++ 디버깅은 프로그램의 오류(버그)를 찾아 수정하는 필수적인 과정입니다. 다양한 도구와 기법을 활용하여 효율적으로 디버깅할 수 있습니다. 다음은 주요 C++ 디버깅 기법들입니다.

## 1. 디버거 사용 (Debugger)

디버거는 C++ 디버깅의 핵심 도구입니다. 프로그램을 일시 중지하고, 코드 실행을 단계별로 추적하며, 변수 값을 검사하고, 메모리 상태를 확인하는 등의 기능을 제공합니다.

*   **주요 기능:**
    *   **중단점(Breakpoints) 설정:** 특정 코드 라인에서 프로그램 실행을 일시 중지합니다. 조건부 중단점을 설정하여 특정 조건이 만족될 때만 중단할 수도 있습니다.
    *   **단계별 실행(Stepping):**
        *   **Step Over (다음 단계로):** 현재 라인을 실행하고 다음 라인으로 이동합니다. 함수 호출 시 함수 내부로 들어가지 않고 함수 전체를 실행합니다.
        *   **Step Into (함수 안으로):** 함수 호출 시 함수 내부로 들어가 첫 번째 라인에서 멈춥니다.
        *   **Step Out (함수 밖으로):** 현재 함수 실행을 완료하고 호출한 곳으로 돌아갑니다.
    *   **변수 검사(Variable Inspection):** 프로그램이 중단된 시점에서 변수들의 현재 값을 확인합니다.
    *   **호출 스택(Call Stack) 확인:** 현재 실행 중인 함수의 호출 경로를 확인하여 어떤 함수가 어떤 함수를 호출했는지 파악합니다.
    *   **메모리 검사(Memory Inspection):** 특정 메모리 주소의 내용을 확인합니다.
    *   **조회점(Watchpoints):** 특정 변수의 값이 변경될 때마다 실행을 중지합니다. 동시성 문제 디버깅에 특히 유용합니다.
    *   **역방향 디버깅(Reverse Debugging):** 일부 디버거는 코드 실행을 역방향으로 되돌려 버그 발생 지점을 역추적하는 기능을 제공합니다.

*   **주요 디버거:**
    *   **GDB (GNU Debugger):** 유닉스 계열 시스템에서 가장 널리 사용되는 C/C++ 디버거입니다. 명령줄 기반이지만 많은 IDE와 통합되어 사용됩니다.
    *   **Visual Studio Debugger:** Windows 환경에서 Visual Studio IDE에 통합된 강력한 디버거입니다.
    *   **LLDB:** macOS에서 주로 사용되는 디버거입니다.
    *   **IDE 통합 디버거:** Visual Studio Code, CLion, Eclipse 등 대부분의 현대적인 IDE는 GDB, LLDB 또는 자체 디버거를 통합하여 편리한 디버깅 환경을 제공합니다.

## 2. 출력문 사용 (Print Statements / Logging)

가장 기본적인 디버깅 기법으로, `std::cout` 또는 `printf`와 같은 출력문을 사용하여 프로그램의 특정 지점에서 변수 값이나 실행 흐름을 출력하는 방식입니다.

*   **장점:** 간단하고 빠르게 적용할 수 있습니다.
*   **단점:** 대규모 프로그램에서는 출력량이 많아지거나, 출력문이 코드에 남아 지저분해질 수 있습니다.

이를 보완하기 위해 **로깅 라이브러리**를 사용하는 것이 좋습니다. 로깅 라이브러리는 로그 레벨(DEBUG, INFO, WARN, ERROR 등)을 설정하고, 로그를 파일이나 네트워크 등 다양한 대상으로 출력하며, 성능 오버헤드를 최소화하는 기능을 제공합니다.

*   **인기 있는 C++ 로깅 라이브러리:**
    *   spdlog
    *   Quill
    *   log4cplus
    *   EasyLogging++
    *   Boost.Log
    *   glog (Google Logging Library)

## 3. 어설션 (Assertions)

어설션은 프로그램의 특정 지점에서 반드시 참이어야 하는 조건을 명시하는 데 사용됩니다. 조건이 거짓일 경우 프로그램 실행을 중단하고 오류 메시지를 출력하여 개발자가 예상치 못한 상황을 즉시 파악할 수 있도록 돕습니다.

*   **`assert` 매크로:** C++ 표준 라이브러리 `<cassert>`에 정의된 `assert` 매크로를 사용합니다.
    *   `assert(condition);` 형태로 사용하며, `condition`이 거짓일 경우 프로그램이 중단됩니다.
    *   `NDEBUG` 매크로가 정의되면 `assert`는 비활성화되어 릴리스 빌드에서 성능 오버헤드를 줄일 수 있습니다.
*   **사용 시기:** 주로 함수의 전제 조건(precondition)이나 불변식(invariant)을 검사하는 데 사용됩니다.
*   **주의사항:** `assert`는 디버그 목적으로만 사용해야 하며, 사용자에게 보여줄 오류 처리나 복구 로직으로 사용해서는 안 됩니다.

## 4. 메모리 디버깅 도구 (Memory Debugging Tools)

C++은 수동 메모리 관리가 필요하므로 메모리 누수(memory leaks), 잘못된 메모리 접근(invalid memory access), 이중 해제(double-free) 등 메모리 관련 오류가 자주 발생합니다. 이러한 오류를 탐지하는 데 특화된 도구들이 있습니다.

*   **Valgrind (Memcheck):** 리눅스 환경에서 강력한 메모리 디버깅 및 프로파일링 도구입니다.
    *   메모리 누수, 초기화되지 않은 값 사용, 유효하지 않은 읽기/쓰기 등을 탐지합니다.
    *   `valgrind --leak-check=yes <실행 파일>` 명령으로 실행합니다.
    *   디버깅 정보를 포함하도록 `-g` 옵션으로 컴파일해야 정확한 라인 번호를 얻을 수 있습니다.
*   **AddressSanitizer (ASan):** GCC 및 Clang 컴파일러에 내장된 빠른 메모리 오류 탐지 도구입니다. 컴파일 시 특정 플래그를 추가하여 활성화합니다.

## 5. 단위 테스트 (Unit Testing)

디버깅 자체는 아니지만, 단위 테스트는 버그를 조기에 발견하고 회귀(regression)를 방지하는 데 매우 효과적인 방법입니다.

*   **주요 C++ 단위 테스트 프레임워크:**
    *   Google Test
    *   Catch2

## 6. 코드 리뷰 (Code Reviews)

다른 개발자가 코드를 검토하면서 잠재적인 버그나 논리적 오류, 비효율적인 부분을 발견할 수 있습니다.

## 7. 기타 고급 기법 및 도구

*   **프로파일링(Profiling):** 프로그램의 성능 병목 현상을 식별하는 데 사용되지만, 예상치 못한 성능 저하를 통해 버그의 존재를 암시할 수도 있습니다.
*   **정적 분석 도구(Static Analysis Tools):** 코드를 실행하지 않고도 잠재적인 버그, 코딩 표준 위반, 보안 취약점 등을 분석합니다. (예: Clang-Tidy, SonarQube)
*   **동적 분석 도구(Dynamic Analysis Tools):** 프로그램 실행 중에 오류를 탐지합니다. Valgrind가 대표적인 예입니다.

C++ 디버깅은 이러한 다양한 기법과 도구를 상황에 맞게 조합하여 사용하는 것이 중요합니다. 문제의 성격에 따라 적절한 방법을 선택하고, 디버깅 과정을 체계적으로 접근하는 것이 효율적인 버그 해결의 열쇠입니다.

---
### C++ 기본

- [[C++ - 개요 및 C 언어와의 차이점]]
- [[C++ - 기본 문법]]
- [[C++ - 컴파일과 링크]]
- [[C++ - IDE 및 개발 환경]]

### 객체 지향 프로그래밍 (OOP)

- [[C++ - 클래스와 객체]]
- [[C++ - 생성자 및 소멸자]]
- [[C++ - 캡슐화]]
- [[C++ - 상속]]
- [[C++ - 다형성]]
- [[C++ - 추상화]]

### 메모리 관리

- [[C++ - 동적 메모리 할당]]
- [[C++ - 스마트 포인터]]

### 고급 C++ 기능

- [[C++ - 포인터]]
- [[C++ - 참조]]
- [[C++ - 템플릿]]
- [[C++ - 예외 처리]]
- [[C++ - 표준 라이브러리 (STL)]]
- [[C++ - 파일 입출력]]
- [[C++ - 현대 C++]]

### 실무 C++

- [[C++ - 빌드 시스템]]
- [[C++ - 테스트 프레임워크]]
- [[C++ - 디버깅 기법]]
- [[C++ - 성능 최적화]]
- [[C++ - 디자인 패턴]]
- [[C++ - 실무에서 사용하는 C++의 변형]]
